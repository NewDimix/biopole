$xs = 768px // до какой ширины экрана доступно разворачивающееся меню

$menu-icon-bgc = white // цвет гамбургера и надписи "MENU"
$menu-btn-c = white // цвет надписи "MENU"
$menu-btn-bgc = $purple-dark-color // цвет фона кнопки



//////////////////////////////////////////// Mobile (xs):

// 1 уровень меню:
$menu-1-bgc-m = $purple-light-color // цвет фона
$menu-1-c-m = white // цвет текста

menu-1-p-m() // padding для a/span
    padding4-func(17, 30, 17, 45)


$menu-1-bw-m = 1px // толщина border для li
$menu-1-bc-m = $purple-dark-color // цвет border для li



//////////////////////////////////////////// Desktop (sm):

// 1 уровень меню:
$menu-1-bgc-d = $purple-light-color // цвет фона
$menu-1-c-d = white // цвет текста

menu-1-p-d() // padding для a/span
    padding4-func(9, 8, 9, 45)



menu__icon()
    cursor pointer
    border-radius 1px
    height 3px
    width 25px
    background-color $menu-icon-bgc
    position absolute
    display block
    content ''
    transition all .2s ease .2s, transform .2s ease 0s

ul()
    list-style none
    z-index 9999
    transition all 0s ease-out 0s

a()
    display inline-block
    width 100%
    font-size-func(16)
    font-weight 700
    text-transform uppercase
    text-decoration none

.menu
    position relative
    margin-bottom 28px

    @media (min-width $xs)
        margin-bottom 0

    ul
        ul()

    li
        hyphens()

    a
        a()

    span
        display inline-block
        font-size-func(16)
        font-weight 700
        text-transform uppercase
        text-decoration none
        cursor pointer

    &__btn
        width 100%
        background-color $menu-btn-bgc
        color $menu-btn-c
        width 100%
        text-align left
        position relative
        cursor pointer
        user-select none
        padding-left 45px
        border none
        ellipsis()

        @media (min-width $xs)
            display none

        &.open
            .menu__icon
                background-color transparent

                &:before
                    transform rotate(45deg)
                    top 0
                    transition all .2s ease 0s, transform .2s ease .2s

                &:after
                    transform rotate(-45deg)
                    bottom 0
                    transition all .2s ease 0s, transform .2s ease .2s

    &__icon
        position absolute
        top 50%
        left 10px
        transform translatey(-50%)
        menu__icon()

        &:before, &:after
            menu__icon()

        &:before
            top 8px

        &:after
            bottom 8px

    &__title
        text-transform uppercase
        font-size-func(18)
        padding-top-func(8)
        padding-bottom-func(8)
        font-weight 700

    &__ul
        background-color $menu-1-bgc-m
        display none
        max-width 100%

        @media (min-width $xs)
            background-color $menu-1-bgc-d
            display inline-block
            padding 15px 0

        ul
            display none

        span
            width 100%

        > li
            position relative
            border-bottom $menu-1-bw-m solid $menu-1-bc-m

            @media (min-width $xs)
                border none

            &:last-child
                @media (min-width $xs)
                    margin-right 0

            > a
                menu-1-p-m()
                color $menu-1-c-m

                @media (min-width $xs)
                    menu-1-p-d()
                    color $menu-1-c-d

                &:before
                    content ""
                    position absolute
                    left 22px
                    left 2.2rem
                    top 50%
                    transform translate(-50%, -50%)

                &:hover
                    background-color rgba(255, 255, 255, 0.15)

        span
            position relative

            &:before
                content ""
                position absolute
                right 5%
                top 50%
                transform translateY(-70%) rotate(45deg)
                width 5px
                height 5px
                border 4px solid red
                border-left-color transparent
                border-top-color transparent
                transition all .5s ease

            &.open
                &:before
                    transform translateY(-30%) rotate(225deg)

    &__dashboard
        &:before
            width 19px
            width 1.9rem
            height 17px
            height 1.7rem
            background inline('dashboard-icon.png') center / cover no-repeat

    &__forum
        &:before
            width 19px
            width 1.9rem
            height 16px
            height 1.6rem
            background inline('forum-icon.png') center / cover no-repeat

    &__around
        &:before
            width 28px
            width 2.8rem
            height 31px
            height 3.1rem
            background inline('getting-around-icon.png') center / cover no-repeat

    &__news
        &:before
            width 17px
            width 1.7rem
            height 16px
            height 1.6rem
            background inline('news-icon.png') center / cover no-repeat

    &__events
        &:before
            width 17px
            width 1.7rem
            height 17px
            height 1.7rem
            background inline('events-icon.png') center / cover no-repeat

    &__services
        &:before
            width 15px
            width 1.5rem
            height 16px
            height 1.6rem
            background inline('services-icon.png') center / cover no-repeat

    &__search
        &:before
            width 14px
            width 1.4rem
            height 17px
            height 1.7rem
            background inline('search-icon.png') center / cover no-repeat
